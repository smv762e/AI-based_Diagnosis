{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Request } from '../request';\nexport let CreateSolicitudComponent = class CreateSolicitudComponent {\n  constructor(requestService, snackbar, router, route, _location) {\n    this.requestService = requestService;\n    this.snackbar = snackbar;\n    this.router = router;\n    this.route = route;\n    this._location = _location;\n    this.request = new Request();\n    this.create = true;\n    this.requestId = 0;\n  }\n  ngOnInit() {\n    if (this.route.snapshot.paramMap.has('id')) {\n      this.requestId = Number(this.route.snapshot.paramMap.get('id'));\n      this.create = false;\n    }\n    if (!this.create) {\n      this.requestService.getRequest(this.requestId).subscribe({\n        next: data => {\n          this.request = data;\n        },\n        error: e => {\n          this.snackbar.open('Error communicating with the server', '', {\n            duration: 3000\n          });\n        }\n      });\n    }\n  }\n  back() {\n    this._location.back();\n  }\n  onSubmit(request) {\n    if (this.create) {\n      this.requestService.createRequest(this.request).subscribe({\n        next: any => {\n          this.router.navigateByUrl('/request');\n          this.snackbar.open('Solicitud created ', '', {\n            duration: 3000\n          });\n        },\n        error: e => {\n          this.snackbar.open('Error creating the solicitud: ' + e.error, '', {\n            duration: 3000\n          });\n        }\n      });\n    } else {\n      this.requestService.updateRequest(this.request).subscribe({\n        next: any => {\n          this.router.navigateByUrl('/request');\n          this.snackbar.open('Solicitud updated ', '', {\n            duration: 3000\n          });\n        },\n        error: e => {\n          this.snackbar.open('Error updating the solicitud: ' + e.error, '', {\n            duration: 3000\n          });\n        }\n      });\n    }\n  }\n};\nCreateSolicitudComponent = __decorate([Component({\n  selector: 'app-create-solicitud',\n  templateUrl: './create-solicitud.component.html',\n  styleUrls: ['./create-solicitud.component.css']\n})], CreateSolicitudComponent);","map":{"version":3,"names":["Component","Request","CreateSolicitudComponent","constructor","requestService","snackbar","router","route","_location","request","create","requestId","ngOnInit","snapshot","paramMap","has","Number","get","getRequest","subscribe","next","data","error","e","open","duration","back","onSubmit","createRequest","any","navigateByUrl","updateRequest","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\sermv\\Desktop\\4ºIngeniería\\Web\\HWA\\frontend\\frontendAlt\\src\\app\\create-solicitud\\create-solicitud.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { RequestService } from '../services/request.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Request } from '../request';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-create-solicitud',\n  templateUrl: './create-solicitud.component.html',\n  styleUrls: ['./create-solicitud.component.css']\n})\nexport class CreateSolicitudComponent {\n\n  request: Request = new Request();\n  create: boolean = true;\n  requestId: number = 0;\n\n  constructor(private requestService: RequestService,\n    private snackbar: MatSnackBar,\n    private router: Router,\n    private route: ActivatedRoute,\n    private _location: Location) { }\n\n  ngOnInit(): void {\n    if (this.route.snapshot.paramMap.has('id')) {\n      this.requestId = Number(this.route.snapshot.paramMap.get('id'));\n      this.create = false;\n    }\n\n    if (!this.create) {\n      this.requestService.getRequest(this.requestId).subscribe({\n        next: (data: any) => {\n          this.request = <Request>data;\n        },\n        error: (e: any) => {\n          this.snackbar.open('Error communicating with the server', '', {\n            duration: 3000\n          });\n        }\n      });\n    }\n  }\n\n  back() {\n    this._location.back();\n  }\n\n  onSubmit(request: Request) {\n    if (this.create) {\n      this.requestService.createRequest(this.request).subscribe({\n        next: (any) => {\n          this.router.navigateByUrl('/request');\n          this.snackbar.open('Solicitud created ', '', {\n            duration: 3000\n          });\n        },\n        error: (e: any) => {\n          this.snackbar.open('Error creating the solicitud: ' + e.error, '', {\n            duration: 3000\n          });\n        }\n      });\n    } else {\n      this.requestService.updateRequest(this.request).subscribe({\n        next: (any) => {\n          this.router.navigateByUrl('/request');\n          this.snackbar.open('Solicitud updated ', '', {\n            duration: 3000\n          });\n        },\n        error: (e: any) => {\n          this.snackbar.open('Error updating the solicitud: ' + e.error, '', {\n            duration: 3000\n          });\n        }\n      });\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}